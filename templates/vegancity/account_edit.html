{% extends 'base.html' %}

{% load url from future %}

{% block header_extra %}
<style>

input, textarea
{
  width: 500px;
}

</style>
{% endblock %}

{% block summary %}
<h1>Account Details</h1>
{% endblock %}

{% block content %}
  <div class="container">
  <div class="row">
    <div class="span6">
      <h3>Edit Your Profile</h3>
      <form action="" method="post">
        {% csrf_token %}

        <div class="fieldWrapper">
          {{ user_form.first_name.errors }}
          <h6>First name</h6>
          {{ user_form.first_name }}<br>
          <label>Your first name will appear in your reviews</label>
        </div>
        <br>

        <div class="fieldWrapper">
          {{ user_form.last_name.errors }}
          <h6>Last name</h6>
          {{ user_form.last_name }}<br>
          {{ user_form.last_name.help_text }}
          <label>Your last initial will appear in your reviews</label>
        </div>
        <br>

        <div class="fieldWrapper">
          {{ profile_form.bio.errors }}
          <h6>Bio</h6>
          {{ profile_form.bio }}
        </div>
        <br>

        <div class="fieldWrapper">
          {{ profile_form.mailing_list.errors }}
          <h6>Mailing list</h6>
          <label class="checkbox" for="id_mailing_list">
            {{ profile_form.mailing_list }}I would like to be subscribed to the VegPhilly mailing list
          </label>
        </div>

        <br><br>
        <input class="btn btn-custom" type="submit" value="Save">
      </form>
    </div>

    <div class="span6">
      <h3>Change Your Password</h3>
      <form action="" method="post">{% csrf_token %}

        {% if form.errors %}
            <p class="errornote">
            Please correct the error(s) below.
            </p>
        {% endif %}

        <fieldset class="module aligned wide">

          <div class="form-row">
              {{ form.old_password.errors }}
              <label for="id_old_password" class="required">Old password:</label>{{ form.old_password }}
          </div>

          <div class="form-row">
              {{ form.new_password1.errors }}
              <label for="id_new_password1" class="required">New password:</label>{{ form.new_password1 }}
          </div>

          <div class="form-row">
          {{ form.new_password2.errors }}
              <label for="id_new_password2" class="required">New Password (again):</label>{{ form.new_password2 }}
          </div>

        </fieldset>

        <div class="submit-row">
            <input type="submit" value="Change my password" class="default btn btn-custom" />
        </div>

        <script type="text/javascript">
        document.getElementById("id_old_password").focus();
        </script>

      </form>

      <p>At this time, VegPhilly is run by people; please be patient while we build the robots. That means that unfortunately you cannot change your email address through the site. If you would like to change your email, please contact us at <a class="uline" href="mailto:vegphilly@gmail.com">vegphilly@gmail.com</a> and we'll sort it out. Thanks!</p>
      <hr>
      <p>Also, please take note of our <a class="uline" href="#privacyModal" data-toggle="modal">Privacy Policy</a></p>
      {% include "vegancity/privacy_modal.html" %}

    </div>
  </div>
  </div>
{% endblock content %}
